# Epic 10: Vercel AI SDK Chat - Design Brief

## Overview

The Vercel AI SDK chat implementation reuses the existing `@assistant-ui/react` component library with a different runtime adapter. This is a **code-first approach** rather than a visual redesign - the UI remains consistent with the Dify chat, only the backend integration changes.

**Key Decision:** Maximize component reuse. The `@assistant-ui/react-ai-sdk` package (already installed) provides the `useVercelUseChatRuntime` adapter that plugs directly into the existing `<Thread />` component.

## Design Decisions

| Decision | Choice | Rationale |
|----------|--------|-----------|
| UI Library | Keep @assistant-ui/react | Already invested, works well, consistent UX |
| Runtime Adapter | `useVercelUseChatRuntime` | Direct Vercel AI SDK integration via existing package |
| Layout | Reuse AppShell + ThreadListSidebar | Same conversation list pattern |
| Conversation API | New `/api/chat/vercel/conversations` | Separate from Dify, own database tables |
| Component Structure | Parallel folder `src/components/chat/vercel/` | Clean separation, easy removal |

## Prototype Location

- **Tool:** Direct Component Mapping
- **Location:** No visual prototype needed

**Implementation Note:** This design leverages existing UI components. Reference the current Dify implementation at `src/components/chat/` for patterns.

## Visual Direction

**No visual changes required.** The Vercel chat will look identical to the Dify chat:

- Same Thread component with message bubbles
- Same sidebar with conversation list
- Same input area with send button
- Same streaming text appearance
- Same responsive behavior

The only user-visible differences:
- Route: `/chat/vercel` instead of `/chat/dify`
- Navigation label: "Chat (AI SDK)" vs "Chat (Dify)"

## Inspiration Sources

| Source | What to Reference |
|--------|-------------------|
| Existing Dify Chat | `/chat` route - exact UI to replicate |
| @assistant-ui docs | [assistant-ui.com](https://www.assistant-ui.com/) - adapter patterns |
| Vercel AI SDK | [sdk.vercel.ai](https://sdk.vercel.ai/) - useChat hook integration |

## Implementation Source

See **Component Strategy** for detailed component mapping and code patterns.

**Key Files to Reference:**
- `src/components/chat/ChatInterface.tsx` - Adapter pattern to follow
- `src/components/chat/Thread.tsx` - Reusable as-is
- `src/components/chat/ThreadListSidebar.tsx` - Adapt for Vercel conversations

---

*Generated by designer-founder workflow on 2026-01-28*
